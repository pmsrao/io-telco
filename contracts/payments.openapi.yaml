openapi: 3.0.3
info:
  title: Payments Data Product (GraphQL)
  version: v1
  x-git-sha: e757540ab6cdf11ff0c3b61005d6c56759f80f9a
servers:
- url: http://127.0.0.1:8000/graphql
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
- bearerAuth: []
paths:
  /graphql:
    post:
      summary: GraphQL endpoint
      operationId: payments_graphql
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                query:
                  type: string
                variables:
                  type: object
              required:
              - query
      responses:
        '200':
          description: GraphQL JSON response
          content:
            application/json:
              schema:
                type: object
      x-graphql-operations:
      - name: list_payments
        kind: query
        args: &id001
          limit: Int
          offset: Int
          order_by: '[OrderBy!]'
          where:
            account_id: STRING
            bill_id: STRING
            status: STRING
            method: STRING
            from_time: TIMESTAMP
            to_time: TIMESTAMP
      - name: list_payments
        kind: query
        args: *id001
      - name: list_bills
        kind: query
        args: &id002
          limit: Int
          offset: Int
          order_by: '[OrderBy!]'
          where:
            account_id: STRING
            status: STRING
            from_date: DATE
            to_date: DATE
      - name: list_bills
        kind: query
        args: *id002
x-data-product:
  name: payments
  type: graphql
