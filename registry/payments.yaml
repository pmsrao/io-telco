data_product: payments
entities:
  payments:
    table: ${CATALOG}.${SCHEMA}.payments
    key: payment_id
    columns:
      payment_id:
        scalar: String
      account_id:
        scalar: String
      bill_id:
        scalar: String
      amount:
        scalar: Decimal
      currency:
        scalar: String
      method:
        scalar: String
      status:
        scalar: String
      created_at:
        scalar: Timestamp
      updated_at:
        scalar: Timestamp
    filters:
    - name: account_id
      type: STRING
      op: '='
      column: account_id
    - name: bill_id
      type: STRING
      op: '='
      column: bill_id
    - name: status
      type: STRING
      op: '='
      column: status
    - name: method
      type: STRING
      op: '='
      column: method
    - name: from_time
      type: TIMESTAMP
      op: '>='
      column: created_at
    - name: to_time
      type: TIMESTAMP
      op: <=
      column: created_at
    aliases:
    - get_payment
    - list_payments
    order_by_default: -created_at
    pagination:
      default_limit: 50
      max_limit: 500
    policy:
      required_window: false
  bills:
    table: ${CATALOG}.${SCHEMA}.bills
    key: bill_id
    columns:
      bill_id:
        scalar: String
      account_id:
        scalar: String
      amount_due:
        scalar: Decimal
      status:
        scalar: String
      bill_date:
        scalar: Timestamp
    filters:
    - name: account_id
      type: STRING
      op: '='
      column: account_id
    - name: status
      type: STRING
      op: '='
      column: status
    - name: from_date
      type: DATE
      op: '>='
      column: bill_date
    - name: to_date
      type: DATE
      op: <=
      column: bill_date
    aliases:
    - get_bill
    - list_bills
    order_by_default: -bill_date
    pagination:
      default_limit: 50
      max_limit: 500
    policy:
      required_window: false
